[connectivity]
nk=dma:1:dma_0

{% for k in range(A) -%}
{% for j in range(NUM_TXL) -%}
{% for i in range(B//PACK_IN) -%} 
{% set num=(i+j*(B//PACK_IN)+k*NUM_TXL*(B//PACK_IN)) -%} 
stream_connect = dma_0.txA{{num}}:ai_engine_0.LHS_in{{num}}_L{{layer}}
{% endfor-%}
{% endfor-%}
{% endfor-%}

{% for k in range(C) -%}
{% for j in range(NUM_TXR) -%}
{% for i in range((B//PACK_IN)) -%} 
{% set num=(i+j*(B//PACK_IN)+k*NUM_TXR*(B//PACK_IN)) -%} 
stream_connect = dma_0.txB{{num}}:ai_engine_0.RHS_in{{num}}_L{{layer}}
{% endfor-%}
{% endfor-%}
{% endfor-%}

{% for j in range(A) -%}
{% for i in range(C//PACK_OUT) -%}
{% set num=(i+j*(C//PACK_OUT)) -%} 
stream_connect = ai_engine_0.out{{num}}_L{{layer}}:dma_0.rxC{{num}}
{% endfor-%}
{% endfor-%}


[vivado]
prop=run.impl_1.STEPS.PLACE_DESIGN.ARGS.DIRECTIVE=EarlyBlockPlacement
prop=run.impl_1.STEPS.PHYS_OPT_DESIGN.ARGS.DIRECTIVE=AggressiveExplore
prop=run.impl_1.STEPS.ROUTE_DESIGN.ARGS.DIRECTIVE=AggressiveExplore